var c=(o,C,r)=>new Promise((B,b)=>{var S=l=>{try{p(r.next(l))}catch(h){b(h)}},f=l=>{try{p(r.throw(l))}catch(h){b(h)}},p=l=>l.done?B(l.value):Promise.resolve(l.value).then(S,f);p((r=r.apply(o,C)).next())});import{d as $e}from"./supabase-4b7d20da.js";import{j as e}from"./radix-ui-2f58371e.js";import{f as ze,r as t}from"./react-vendor-6cf6ded9.js";import{u as Le,a as Pe,b as Ve,c as Ge}from"./useImageLibrary-4549c750.js";import{u as Be,a4 as de,a1 as ce}from"./index-426aa6f1.js";import{u as Me}from"./useContributions-fb136813.js";import{C as Re}from"./CGUWarningBanner-349c5a68.js";import{I as qe}from"./ImageEditor-4829d530.js";import{c as V,I as ue,k as xe,a$ as me,B as G,Q as Oe,be as We,N as Qe,a1 as He,aS as Je,D as Xe,v as Ke,X as w,A as Ye}from"./ui-icons-e73ce4f7.js";import"./imagesMetadata-470e1c8a.js";function xs(){var re,le,ie,ne,oe;const{currentUser:o}=Be(),C=ze(),{stats:r,loading:B}=Me(o==null?void 0:o.id),[b,S]=t.useState(!0),[f,p]=t.useState(""),[l,h]=t.useState("all"),[j,k]=t.useState("all"),[E,ge]=t.useState("all"),[d,M]=t.useState("grid"),[Ze,pe]=t.useState([]),[R,he]=t.useState([]),[be,q]=t.useState(!1),[fe,I]=t.useState(!1),[n,je]=t.useState(null),[u,A]=t.useState(null),[_,U]=t.useState(""),[x,O]=t.useState("Capture d'écran"),[W,Q]=t.useState("général"),[H,J]=t.useState(""),[X,K]=t.useState(""),[ve,D]=t.useState(["général","parametres","first acces"]),[Y,Z]=t.useState([]);t.useEffect(()=>{(()=>c(this,null,function*(){if(l&&l!=="all"){const a=yield de(l,!0);Z(a||[])}else Z([])}))(),k("all")},[l]),t.useEffect(()=>{(()=>c(this,null,function*(){if(x&&x!=="all"){const a=yield de(x,!0);a&&a.length>0?D(a):D(ce)}else D(ce)}))()},[x]),t.useEffect(()=>{(()=>c(this,null,function*(){q(!0);try{const{supabase:a}=yield $e(()=>import("./index-426aa6f1.js").then(g=>g.a$),["assets/index-426aa6f1.js","assets/radix-ui-2f58371e.js","assets/react-vendor-6cf6ded9.js","assets/supabase-4b7d20da.js","assets/ui-icons-e73ce4f7.js","assets/index-32d45f25.css"]),{data:i}=yield a.from("profiles").select("id").eq("role","administrateur").single();if(i){const{data:g}=yield a.from("versions").select("*").order("created_at",{ascending:!1});pe(g||[]);const Te=(g||[]).filter(Fe=>Fe.created_by===i.id);he(Te)}}catch(a){console.error("Erreur lors du chargement des exercices:",a)}finally{q(!1)}}))()},[]);const{images:ee,loading:ye,refresh:T}=Le({moderationStatus:"approved",category:l==="all"?void 0:l,searchTerm:f||void 0}),v=(ee||[]).filter(s=>!(j!=="all"&&s.subcategory!==j||E!=="all"&&s.android_version!==E)),se=["all",...new Set((ee||[]).map(s=>s.android_version).filter(s=>s&&s!==null&&s!==""))].sort((s,a)=>s==="all"?-1:a==="all"?1:parseInt(a)-parseInt(s)),{upload:ae,uploading:F,progress:es}=Pe(),{deleteImage:Ne}=Ve();Ge();const[we,m]=t.useState(!1),[y,$]=t.useState(null),[Ce,z]=t.useState(!1),N={total:((re=r==null?void 0:r.images)==null?void 0:re.total)||0,approved:((le=r==null?void 0:r.images)==null?void 0:le.approved)||0,pending:((ie=r==null?void 0:r.images)==null?void 0:ie.pending)||0,rejected:((ne=r==null?void 0:r.images)==null?void 0:ne.rejected)||0,globalTotal:((oe=r==null?void 0:r.global)==null?void 0:oe.total_images)||0},L=t.useCallback(s=>{s.preventDefault(),s.stopPropagation(),s.type==="dragenter"||s.type==="dragover"?z(!0):s.type==="dragleave"&&z(!1)},[]),Se=t.useCallback(s=>{s.preventDefault(),s.stopPropagation(),z(!1);const a=[...s.dataTransfer.files];a&&a[0]&&te(a[0])},[]),te=s=>{if(!s.type.startsWith("image/")){alert("Veuillez sélectionner une image");return}if(s.size>1024*1024){alert("⚠️ L'image dépasse 1MB. Veuillez la compresser avant de l'uploader.");return}A(s),U(s.name.replace(/\.[^/.]+$/,"")),m(!0)},ke=()=>c(this,null,function*(){if(!u||!_){alert("Veuillez remplir tous les champs requis");return}const s=X.split(",").map(i=>i.trim()).filter(Boolean),a=yield ae(u,{title:_,category:x,subcategory:W,android_version:H.trim()||null,tags:s,contributor_id:o.id},o.id);a.success?(alert("✅ Image uploadée avec succès ! Elle sera validée par un modérateur."),m(!1),P(),T()):alert(`❌ Erreur : ${a.error}`)}),P=()=>{A(null),U(""),O("Capture d'écran"),Q("général"),J(""),K("")},Ee=s=>c(this,null,function*(){window.confirm("Êtes-vous sûr de vouloir supprimer cette image ?")&&(yield Ne(s)).success&&T()}),Ie=s=>{const a=document.createElement("a");a.href=s.public_url,a.download=s.title||"image",document.body.appendChild(a),a.click(),document.body.removeChild(a)},Ae=s=>{je(s),I(!0)},_e=s=>c(this,null,function*(){if(n)try{const a=new File([s],`edited-${n.title||"image"}.png`,{type:"image/png"}),i=yield ae(a,{title:`${n.title||"image"} (éditée)`,category:n.category||"screenshot",subcategory:n.subcategory||"général",android_version:n.android_version||null,tags:n.tags||[],contributor_id:o.id},o.id);i.success?(I(!1),alert("✅ Image modifiée uploadée avec succès"),T()):alert(`❌ Erreur : ${i.error}`)}catch(a){console.error("Error saving edited image:",a),alert("Erreur lors de la sauvegarde de l'image modifiée")}}),Ue=s=>new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}),De=s=>{const i={pending:{color:"bg-yellow-100 text-yellow-700",icon:me,label:"En attente"},approved:{color:"bg-green-100 text-green-700",icon:xe,label:"Approuvée"},rejected:{color:"bg-red-100 text-red-700",icon:w,label:"Rejetée"}}[s];if(!i)return null;const g=i.icon;return e.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded text-xs font-medium ${i.color}`,children:[e.jsx(g,{className:"w-3 h-3"}),e.jsx("span",{children:i.label})]})};return ye?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[b&&e.jsx(Re,{onClose:()=>S(!1),onReadMore:()=>C("/contributeur/cgu")}),e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bibliothèque d'Images"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gérez vos captures d'écran et images"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"Uploader une image"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"Mes images"})]}),e.jsx(ue,{className:"w-8 h-8 text-gray-300"})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4 shadow-sm border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-700",children:N.approved}),e.jsx("div",{className:"text-sm text-green-600",children:"Approuvées"})]}),e.jsx(xe,{className:"w-8 h-8 text-green-300"})]})}),e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 shadow-sm border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:N.pending}),e.jsx("div",{className:"text-sm text-yellow-600",children:"En attente"})]}),e.jsx(me,{className:"w-8 h-8 text-yellow-300"})]})}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 shadow-sm border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700",children:N.globalTotal}),e.jsx("div",{className:"text-sm text-blue-600",children:"Total plateforme"})]}),e.jsx(G,{className:"w-8 h-8 text-blue-300"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Rechercher par titre ou tag...",value:f,onChange:s=>p(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsx("div",{children:e.jsxs("select",{value:l,onChange:s=>h(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Toutes les catégories"}),e.jsx("option",{value:"Capture d'écran",children:"Captures d'écran"}),e.jsx("option",{value:"Fond d'écran",children:"Fonds d'écran"}),e.jsx("option",{value:"Icône",children:"Icônes"}),e.jsx("option",{value:"qcm",children:"Images QCM"}),e.jsx("option",{value:"Autre",children:"Autres"})]})}),e.jsxs("div",{className:"flex items-center justify-end mt-4 space-x-2",children:[e.jsx("button",{onClick:()=>M("grid"),className:`p-2 rounded ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(We,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>M("list"),className:`p-2 rounded ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(Qe,{className:"w-5 h-5"})})]})]}),Y.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sous-catégories:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>k("all"),className:`px-3 py-1 rounded text-sm ${j==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Toutes"}),Y.map(s=>e.jsx("button",{onClick:()=>k(s),className:`px-3 py-1 rounded text-sm ${j===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s},s))]})]}),se.length>1&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Version Android:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:se.map(s=>e.jsx("button",{onClick:()=>ge(s),className:`px-3 py-1 rounded text-sm ${E===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s==="all"?"Toutes":`Android ${s}`},s))})]})]}),(v==null?void 0:v.length)===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(ue,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Aucune image"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par uploader votre première image"}),e.jsx("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Uploader une image"})]}):e.jsx("div",{className:d==="grid"?"grid grid-cols-2 md:grid-cols-4 gap-4":"space-y-4",children:v.map(s=>e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow ${d==="list"?"flex items-center p-4 space-x-4":""}`,children:[e.jsxs("div",{className:`relative group cursor-pointer ${d==="grid"?"aspect-square":"w-24 h-24 flex-shrink-0"}`,onClick:()=>$(s),children:[e.jsx("img",{src:s.public_url,alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center",children:e.jsx(He,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),e.jsx("div",{className:"absolute top-2 right-2",children:De(s.moderation_status)})]}),e.jsxs("div",{className:d==="grid"?"p-3":"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate mb-1",children:s.title}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("div",{className:"capitalize",children:s.category}),e.jsx("div",{children:Ue(s.created_at)}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.tags.slice(0,3).map((a,i)=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs",children:a},i))})]})]}),e.jsxs("div",{className:`flex ${d==="grid"?"px-3 pb-3 space-x-2":"space-x-2"}`,children:[e.jsx("button",{onClick:()=>Ae(s),className:"p-2 text-purple-600 hover:bg-purple-50 rounded transition-colors",title:"Éditer (flou, masques)",children:e.jsx(Je,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ie(s),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Télécharger",children:e.jsx(Xe,{className:"w-4 h-4"})}),s.moderation_status==="pending"&&e.jsx("button",{onClick:()=>Ee(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Supprimer",children:e.jsx(Ke,{className:"w-4 h-4"})})]})]},s.id))}),!be&&R.length>0&&e.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2 mb-2",children:[e.jsx(G,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{children:"Exercices proposés par l'administration"})]}),e.jsx("p",{className:"text-gray-600",children:"Référencez ces exercices dans vos contributions"})]}),e.jsx("div",{className:d==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:R.map(s=>e.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-sm border border-blue-200 overflow-hidden hover:shadow-md transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[e.jsx(G,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name||"Exercice sans titre"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description||"Aucune description"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3 pt-2 border-t border-blue-100",children:[e.jsxs("span",{children:["ID: ",s.id.substring(0,8),"..."]}),e.jsx("span",{children:s.difficulty_level||"Non défini"})]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(s.id),alert("✅ ID de l'exercice copié!")},className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"Copier l'ID"})]},s.id))})]}),we&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full overflow-y-auto",style:{maxHeight:"90vh"},children:[e.jsxs("div",{className:"p-6 border-b flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Uploader une image"}),e.jsx("button",{onClick:()=>{m(!1),P()},className:"text-gray-500 hover:text-gray-700",children:e.jsx(w,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[!u&&e.jsxs("div",{onDragEnter:L,onDragLeave:L,onDragOver:L,onDrop:Se,className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${Ce?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[e.jsx(V,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Glissez-déposez une image ici"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"ou"}),e.jsxs("label",{className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer inline-block transition-colors",children:["Sélectionner un fichier",e.jsx("input",{type:"file",accept:"image/*",onChange:s=>s.target.files[0]&&te(s.target.files[0]),className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Maximum 1MB - JPG, PNG, WebP"})]}),u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(u),alt:"Preview",className:"w-full h-64 object-contain bg-gray-100 rounded-lg"}),e.jsx("button",{onClick:()=>A(null),className:"absolute top-2 right-2 p-2 bg-red-600 hover:bg-red-700 text-white rounded-full",children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre *"}),e.jsx("input",{type:"text",value:_,onChange:s=>U(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Ecran accueil WhatsApp"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie"}),e.jsxs("select",{value:x,onChange:s=>O(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"Capture d'écran",children:"Capture d'écran"}),e.jsx("option",{value:"Fond d'écran",children:"Fond d'écran"}),e.jsx("option",{value:"Icône",children:"Icône"}),e.jsx("option",{value:"qcm",children:"Image QCM"}),e.jsx("option",{value:"Autre",children:"Autre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sous-catégorie"}),e.jsx("select",{value:W,onChange:s=>Q(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ve.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Version Android"}),e.jsx("input",{type:"text",value:H,onChange:s=>J(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 14, 13, 12..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (séparés par des virgules)"}),e.jsx("input",{type:"text",value:X,onChange:s=>K(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: whatsapp, message, android"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Ye,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Rappel important"}),e.jsx("p",{children:"Vérifiez qu'aucune donnée personnelle (nom, téléphone, email réel, photo identifiable) n'apparaît dans l'image."})]})]})})]})]}),u&&e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-lg border-t sticky bottom-0",children:[e.jsx("button",{onClick:()=>{m(!1),P()},className:"px-6 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",disabled:F,children:"Annuler"}),e.jsx("button",{onClick:ke,disabled:F,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:F?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Upload en cours..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"Uploader"})]})})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:()=>$(null),children:e.jsxs("div",{className:"max-w-4xl w-full",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-white text-xl font-semibold",children:y.title}),e.jsx("button",{onClick:()=>$(null),className:"text-white hover:text-gray-300",children:e.jsx(w,{className:"w-8 h-8"})})]}),e.jsx("img",{src:y.public_url,alt:y.title,className:"w-full h-auto rounded-lg"})]})}),e.jsx(qe,{open:fe,onOpenChange:I,imageUrl:n==null?void 0:n.public_url,onSave:_e})]})}export{xs as default};

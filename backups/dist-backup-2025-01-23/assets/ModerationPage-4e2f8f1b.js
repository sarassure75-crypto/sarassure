var w=(t,o,c)=>new Promise((f,x)=>{var h=l=>{try{d(c.next(l))}catch(r){x(r)}},n=l=>{try{d(c.throw(l))}catch(r){x(r)}},d=l=>l.done?f(l.value):Promise.resolve(l.value).then(h,n);d((c=c.apply(t,o)).next())});import{j as e}from"./radix-ui-2f58371e.js";import{r as u}from"./react-vendor-6cf6ded9.js";import{a as W,b as X,c as B}from"./useContributions-fb136813.js";import{u as G,b as O,c as Z}from"./useImageLibrary-4549c750.js";import{b as L,b1 as Q,a6 as M,A as _,af as H,ag as J,y as S,k as v,a1 as K,bi as Y,X as ee,a$ as se,I as V,as as te}from"./ui-icons-e73ce4f7.js";import"./supabase-4b7d20da.js";import"./index-426aa6f1.js";import"./imagesMetadata-470e1c8a.js";function re({contribution:t,onReviewed:o}){var F;const{approve:c,reject:f,loading:x}=W(),[h,n]=u.useState(!1),[d,l]=u.useState(!1),[r,j]=u.useState(""),[m,C]=u.useState(""),[k,b]=u.useState(!1),p=t.content||{},D=p.title||"Sans titre",R=p.description||"Pas de description",N=p.tasks||[],$=p.category||"Non cat√©goris√©",z=p.difficulty||"facile",E=a=>new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=(()=>{const a=[{pattern:/\b0[67]\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}\b/,type:"T√©l√©phone fran√ßais"},{pattern:/\b\+?\d{1,3}\s?\d{9,}\b/,type:"Num√©ro de t√©l√©phone"},{pattern:/\b[\w\.-]+@(?!exemple\.fr|example\.)(gmail|outlook|hotmail|yahoo|orange|free|wanadoo)\.com\b/i,type:"Email r√©el"},{pattern:/\b(rue|avenue|boulevard|chemin|place)\s+[a-zA-Z√Ä-√ø\s]+\d+/i,type:"Adresse postale"}],g=`${D} ${R} ${N.map(T=>T.instruction).join(" ")}`,I=[];return a.forEach(({pattern:T,type:U})=>{const q=g.match(T);q&&I.push({type:U,matches:q.slice(0,3)})}),I})(),s=A.length>0,i=()=>w(this,null,function*(){const a=yield c(t.id,m||void 0);a.success?(alert("‚úÖ Contribution approuv√©e avec succ√®s !"),b(!1),o==null||o()):alert(`‚ùå Erreur : ${a.error}`)}),y=()=>w(this,null,function*(){if(!r.trim()){alert("Veuillez indiquer une raison pour le rejet");return}const a=yield f(t.id,r);a.success?(alert("‚ùå Contribution rejet√©e"),l(!1),o==null||o()):alert(`‚ùå Erreur : ${a.error}`)});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-2 transition-all ${s?"border-red-300 bg-red-50":"border-gray-200"}`,children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:D}),e.jsx("p",{className:"text-gray-600",children:R})]}),e.jsxs("div",{className:"ml-4 flex flex-col items-end space-y-2",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:t.type==="exercise"?"üìù Exercice":"üì∏ Capture"}),e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:$})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsxs("span",{children:["ID: ",(F=t.contributor_id)==null?void 0:F.slice(0,8)]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:E(t.created_at)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsxs("span",{children:[N.length," √©tape",N.length>1?"s":""]})]}),e.jsx("div",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-medium capitalize",children:z})]}),s&&e.jsx("div",{className:"mt-4 bg-red-100 border border-red-300 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(_,{className:"w-5 h-5 text-red-600 mt-0.5 mr-2 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"‚ö†Ô∏è Donn√©es personnelles d√©tect√©es !"}),e.jsx("ul",{className:"space-y-1 text-sm text-red-800",children:A.map((a,g)=>e.jsxs("li",{children:[e.jsxs("strong",{children:[a.type," :"]})," ",a.matches.join(", ")]},g))}),e.jsx("p",{className:"mt-2 text-xs text-red-700",children:"‚ö†Ô∏è Cette contribution doit √™tre rejet√©e sauf si les donn√©es sont fictives et proviennent des ressources fournies."})]})]})})]}),e.jsx("div",{className:`border-b transition-all ${h?"block":"hidden"}`,children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"√âtapes de l'exercice"}),N.map((a,g)=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:g+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900",children:a.instruction}),a.image_url&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:a.image_url,alt:`√âtape ${g+1}`,className:"max-w-xs rounded border border-gray-300"})})]})]})},g)),p.versions&&p.versions.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Versions alternatives (",p.versions.length,")"]}),e.jsx("div",{className:"space-y-2",children:p.versions.map((a,g)=>{var I;return e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[e.jsx("div",{className:"font-medium text-purple-900",children:a.name||`Version ${g+1}`}),e.jsxs("div",{className:"text-sm text-purple-700",children:[((I=a.tasks)==null?void 0:I.length)||0," √©tapes"]})]},g)})})]})]})}),e.jsxs("div",{className:"p-4 bg-gray-50 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>n(!h),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 transition-colors",children:h?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Masquer les d√©tails"})]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-5 h-5"}),e.jsx("span",{children:"Voir les d√©tails"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>l(!0),disabled:x,className:"flex items-center space-x-2 px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:"Rejeter"})]}),e.jsxs("button",{onClick:()=>b(!0),disabled:x||s,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:"Approuver"})]})]})]})]}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h3",{className:"text-xl font-semibold",children:"Approuver la contribution"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Cette contribution sera publi√©e et le contributeur recevra des points."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaire (optionnel)"}),e.jsx("textarea",{value:m,onChange:a=>C(a.target.value),placeholder:"Ex: Excellent exercice, tr√®s p√©dagogique !",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-lg border-t",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Annuler"}),e.jsxs("button",{onClick:i,disabled:x,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:"Confirmer l'approbation"})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h3",{className:"text-xl font-semibold",children:"Rejeter la contribution"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Indiquez la raison du rejet pour aider le contributeur √† s'am√©liorer."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Raison du rejet *"}),e.jsx("textarea",{value:r,onChange:a=>j(a.target.value),placeholder:"Ex: Donn√©es personnelles d√©tect√©es (num√©ro de t√©l√©phone r√©el dans la capture)",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),s&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 text-sm text-yellow-800",children:"üí° Suggestion : Mentionnez les donn√©es personnelles d√©tect√©es ci-dessus"})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-lg border-t",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Annuler"}),e.jsxs("button",{onClick:y,disabled:x||!r.trim(),className:"flex items-center space-x-2 px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:"Confirmer le rejet"})]})]})]})})]})}function le(){var A;const{images:t,loading:o,refresh:c}=G({moderationStatus:"pending"}),{approveImage:f,rejectImage:x,loading:h}=O(),[n,d]=u.useState(null),[l,r]=u.useState([]),[j,m]=u.useState(!1),[C,k]=u.useState(""),[b,p]=u.useState(null),D=s=>{r(i=>i.includes(s)?i.filter(y=>y!==s):[...i,s])},R=()=>{l.length===(t==null?void 0:t.length)?r([]):r((t==null?void 0:t.map(s=>s.id))||[])},N=s=>w(this,null,function*(){const i=yield f(s);i.success?c():alert(`‚ùå Erreur : ${i.error}`)}),$=()=>w(this,null,function*(){if(l.length===0||!window.confirm(`Approuver ${l.length} image(s) ?`))return;let s=0;for(const i of l)(yield f(i)).success&&s++;alert(`‚úÖ ${s} image(s) approuv√©e(s)`),r([]),c()}),z=(s,i)=>w(this,null,function*(){const y=yield x(s,i);y.success?(m(!1),p(null),k(""),c()):alert(`‚ùå Erreur : ${y.error}`)}),E=s=>{p(s),m(!0)},P=s=>new Date(s).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"});return o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]})}):(t==null?void 0:t.length)===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(v,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Tout est valid√© !"}),e.jsx("p",{className:"text-gray-600",children:"Aucune image en attente de mod√©ration"})]}):e.jsxs("div",{className:"space-y-6",children:[l.length>0&&e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-purple-900",children:[e.jsx("strong",{children:l.length})," image(s) s√©lectionn√©e(s)"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>r([]),className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"D√©s√©lectionner"}),e.jsxs("button",{onClick:$,disabled:h,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:"Approuver la s√©lection"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:R,className:"text-sm text-purple-600 hover:text-purple-700 font-medium",children:l.length===(t==null?void 0:t.length)?"D√©s√©lectionner tout":"S√©lectionner tout"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[t==null?void 0:t.length," image(s) √† mod√©rer"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(s=>{var i;return e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-2 overflow-hidden transition-all ${l.includes(s.id)?"border-purple-500 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:l.includes(s.id),onChange:()=>D(s.id),className:"absolute top-2 left-2 w-5 h-5 rounded border-gray-300 text-purple-600 focus:ring-purple-500 cursor-pointer z-10"}),e.jsxs("div",{className:"aspect-square bg-gray-100 cursor-pointer group relative",onClick:()=>d(s),children:[e.jsx("img",{src:s.public_url,alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center",children:e.jsx(K,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})]}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 truncate text-sm",children:s.title}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(L,{className:"w-3 h-3"}),e.jsxs("span",{children:["ID: ",(i=s.contributor_id)==null?void 0:i.slice(0,8)]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Q,{className:"w-3 h-3"}),e.jsx("span",{children:P(s.created_at)})]}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Y,{className:"w-3 h-3"}),e.jsx("span",{children:s.tags.slice(0,2).join(", ")})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs capitalize",children:s.category})})]}),e.jsxs("div",{className:"bg-gray-50 px-3 py-2 flex items-center justify-between border-t",children:[e.jsxs("button",{onClick:()=>E(s),disabled:h,className:"flex items-center space-x-1 px-3 py-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50 text-sm",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:"Rejeter"})]}),e.jsxs("button",{onClick:()=>N(s.id),disabled:h,className:"flex items-center space-x-1 px-3 py-1 text-green-600 hover:bg-green-50 rounded transition-colors disabled:opacity-50 text-sm",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:"Approuver"})]})]})]},s.id)})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:()=>d(null),children:e.jsxs("div",{className:"max-w-5xl w-full",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:n.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-300",children:[e.jsx("span",{className:"capitalize",children:n.category}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:P(n.created_at)}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["ID: ",(A=n.contributor_id)==null?void 0:A.slice(0,8)]})]}),n.tags&&n.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.tags.map((s,i)=>e.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-200 rounded text-xs",children:s},i))})]}),e.jsx("button",{onClick:()=>d(null),className:"text-white hover:text-gray-300",children:e.jsx(ee,{className:"w-8 h-8"})})]}),e.jsx("img",{src:n.public_url,alt:n.title,className:"w-full h-auto rounded-lg mb-4"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("button",{onClick:()=>{E(n),d(null)},className:"flex items-center space-x-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(S,{className:"w-5 h-5"}),e.jsx("span",{children:"Rejeter"})]}),e.jsxs("button",{onClick:()=>{N(n.id),d(null)},className:"flex items-center space-x-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{children:"Approuver"})]})]})]})}),j&&b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Rejeter l'image"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.title})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:b.public_url,alt:b.title,className:"max-h-48 rounded border border-gray-300"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Raison du rejet *"}),e.jsx("textarea",{value:C,onChange:s=>k(s.target.value),placeholder:"Ex: Image floue, donn√©es personnelles visibles, contenu inappropri√©...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(_,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-2 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Crit√®res de rejet courants"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Donn√©es personnelles visibles (nom, t√©l√©phone, email r√©el)"}),e.jsx("li",{children:"Photo identifiable d'une personne r√©elle"}),e.jsx("li",{children:"Qualit√© insuffisante (floue, trop sombre)"}),e.jsx("li",{children:"Contenu inappropri√© ou offensant"}),e.jsx("li",{children:"Image sous droits d'auteur"})]})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-lg border-t",children:[e.jsx("button",{onClick:()=>{m(!1),p(null),k("")},className:"px-6 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Annuler"}),e.jsxs("button",{onClick:()=>z(b.id,C),disabled:h||!C.trim(),className:"flex items-center space-x-2 px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:"Confirmer le rejet"})]})]})]})})]})}function he(){const[t,o]=u.useState("contributions"),[c,f]=u.useState("all"),{contributions:x,loading:h,refresh:n}=X(),{count:d}=B(),{count:l}=Z(),r=x==null?void 0:x.filter(m=>c==="all"?!0:m.type===c),j={totalPending:(d||0)+(l||0),contributions:d||0,images:l||0};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mod√©ration"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Validez ou rejetez les contributions des utilisateurs"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx("div",{className:"bg-yellow-50 rounded-lg p-6 shadow-sm border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:j.totalPending}),e.jsx("div",{className:"text-sm text-yellow-600 mt-1",children:"En attente de mod√©ration"})]}),e.jsx(se,{className:"w-12 h-12 text-yellow-500"})]})}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-6 shadow-sm border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-700",children:j.contributions}),e.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"Contributions"})]}),e.jsx(M,{className:"w-12 h-12 text-blue-500"})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-6 shadow-sm border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-700",children:j.images}),e.jsx("div",{className:"text-sm text-purple-600 mt-1",children:"Images"})]}),e.jsx(V,{className:"w-12 h-12 text-purple-500"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[e.jsxs("div",{className:"flex border-b",children:[e.jsx("button",{onClick:()=>o("contributions"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors ${t==="contributions"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(M,{className:"w-5 h-5"}),e.jsx("span",{children:"Contributions"}),j.contributions>0&&e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-bold rounded-full",children:j.contributions})]})}),e.jsx("button",{onClick:()=>o("images"),className:`flex-1 px-6 py-4 text-center font-medium transition-colors ${t==="images"?"text-purple-600 border-b-2 border-purple-600 bg-purple-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"Images"}),j.images>0&&e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-bold rounded-full",children:j.images})]})})]}),t==="contributions"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[e.jsx(te,{className:"w-5 h-5 text-gray-500"}),e.jsxs("select",{value:c,onChange:m=>f(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tous les types"}),e.jsx("option",{value:"exercise",children:"Exercices"}),e.jsx("option",{value:"screenshot",children:"Captures d'√©cran"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[(r==null?void 0:r.length)||0," contribution",((r==null?void 0:r.length)||0)>1?"s":""]})]}),h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]})}):(r==null?void 0:r.length)===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(v,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Tout est √† jour !"}),e.jsx("p",{className:"text-gray-600",children:"Aucune contribution en attente de validation"})]}):e.jsx("div",{className:"space-y-6",children:r.map(m=>e.jsx(re,{contribution:m,onReviewed:n},m.id))})]}),t==="images"&&e.jsx("div",{className:"p-6",children:e.jsx(le,{})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(_,{className:"w-6 h-6 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Crit√®res de validation"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Donn√©es personnelles :"})," Aucune information identifiable (nom r√©el, t√©l√©phone, email, photo)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Qualit√© p√©dagogique :"})," Instructions claires, progression logique"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Images :"})," Captures d'√©cran nettes, fonds d'√©cran appropri√©s uniquement"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Contenu :"})," Pas de contenu offensant, violent ou inappropri√©"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Originalit√© :"})," Pas de duplication d'exercices existants"]})]})]})]})})]})}export{he as default};

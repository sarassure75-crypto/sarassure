var g=(i,e,c)=>new Promise((s,l)=>{var a=u=>{try{p(c.next(u))}catch(o){l(o)}},m=u=>{try{p(c.throw(u))}catch(o){l(o)}},p=u=>u.done?s(u.value):Promise.resolve(u.value).then(a,m);p((c=c.apply(i,e)).next())});import{r as n}from"./react-vendor-6cf6ded9.js";import{s as I,u as v,a as y,b,r as S,c as w,d as h,e as k,f as j}from"./imagesMetadata-470e1c8a.js";function L(i={},e=!0){const[c,s]=n.useState([]),[l,a]=n.useState(!0),[m,p]=n.useState(null),u=n.useCallback(()=>g(this,null,function*(){a(!0),p(null);const o=yield I(i);o.success?s(o.data):p(o.error),a(!1)}),[i]);return n.useEffect(()=>{e&&u()},[e,u]),{images:c,loading:l,error:m,refresh:u,search:o=>I(o)}}function M(){const[i,e]=n.useState(!1),[c,s]=n.useState(0),[l,a]=n.useState(null);return{upload:(p,u,o)=>g(this,null,function*(){e(!0),s(0),a(null);try{s(30);const r=yield v(p,u,o);return s(100),r.success||a(r.error),e(!1),r}catch(r){return a(r.message),e(!1),{success:!1,error:r.message}}}),uploading:i,progress:c,error:l}}function P(){const[i,e]=n.useState(!1),[c,s]=n.useState(null);return{loading:i,error:c,updateMetadata:(r,f)=>g(this,null,function*(){e(!0),s(null);const t=yield y(r,f);return e(!1),t.success||s(t.error),t}),approve:(r,f)=>g(this,null,function*(){e(!0),s(null);const t=yield b(r,f);return e(!1),t.success||s(t.error),t}),reject:(r,f,t)=>g(this,null,function*(){e(!0),s(null);const d=yield S(r,f,t);return e(!1),d.success||s(d.error),d}),bulkApprove:(r,f)=>g(this,null,function*(){e(!0),s(null);const t=yield w(r,f);return e(!1),t.success||s(t.error),t}),bulkReject:(r,f,t)=>g(this,null,function*(){e(!0),s(null);const d=yield h(r,f,t);return e(!1),d.success||s(d.error),d}),remove:(r,f)=>g(this,null,function*(){e(!0),s(null);const t=yield k(r);return e(!1),t.success||s(t.error),t})}}function R(){const[i,e]=n.useState(0),[c,s]=n.useState(!0),l=()=>g(this,null,function*(){s(!0);const a=yield j();a.success&&e(a.count),s(!1)});return n.useEffect(()=>{l();const a=setInterval(l,3e4);return()=>clearInterval(a)},[]),{count:i,loading:c,refresh:l}}export{M as a,P as b,R as c,L as u};
